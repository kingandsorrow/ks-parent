<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>我的</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>

<body>
<div class="box">

</div>
</body>
<script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.min.js"></script>
<script type="text/javascript">
    $(function () {
        var i = 0;
        var getAward;

        function award() {
            i++;
            if (i == 6) {
                clearInterval(getAward);
            }
            $.ajax({
                url: 'http://127.0.0.1:8090/orderList',
                data: {
                    'a': "0"
                },
                dataType: 'json',
                type: 'get',
                cors: 'true',
                success: function (data) {
                    debugger;
                    alert(i);
                    //成功
                    if (i == 2) {
                        clearInterval(getAward);
                    }
                    if (data.errCode == "0000") {
                        clearInterval(getAward);
                        //获取数据成功
                        var actUrl = data.actUrl;
                        var picUrl = data.picUrl;

                        $("#CJShareA").attr("href", actUrl);
                        $("#CJShareImg").attr("src", picUrl);

                        $(".xShareo17").show();
                        $(".share-img").show();
                    } else {

                    }
                }
            });
        }

        getAward = setInterval(award, 1000);

    });
</script>

</html>